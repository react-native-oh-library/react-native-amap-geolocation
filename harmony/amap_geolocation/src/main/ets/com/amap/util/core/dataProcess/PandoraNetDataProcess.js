import ArrayList from '@ohos.util.ArrayList'; import util from '@ohos.util'; import { q12 } from '../utils/auth/AuthData'; import { LogUtil } from '../utils/LogUtil'; import { r10 } from '../utils/RequestUtil'; export class r12 { j10(request) { if (request.isPandoraBody === false || request.encryptedData === undefined) { return new Promise((o13) => { o13(request); }); } return this.f12(request); } f12(request) { if (request === undefined || request.encryptedData === undefined) { return new Promise((m13) => { m13(request); }); } let b13 = this.g12(request); let c13 = request.encryptedData; let authData = new q12(); authData.h12(b13); let d13 = authData.i12(c13); return d13.then(() => { let i13 = authData.j12(); request.extraData = i13.buffer; return new Promise((k13) => { k13(request); }); }).catch((error) => { LogUtil.e('appendEncryptedData', `catch error, ${error.code}, ${error.message}`, ''); return new Promise((h13) => { h13(request); }); }); } g12(request) { var s12; let t12 = new ArrayList(); let u12; if (request.k12 === undefined || request.k12.length === 0) { u12 = r10.l12(); } else { u12 = request.n12; } u12 = u12 !== null && u12 !== void 0 ? u12 : 'manufacture=HUAWEI'; const v12 = (s12 = request.o12) !== null && s12 !== void 0 ? s12 : '3.0'; let w12; if (request.n12 === undefined || request.n12.length === 0) { w12 = r10.p12(request); } else { w12 = request.n12; } w12 = w12 !== null && w12 !== void 0 ? w12 : 'platform=harmonyos&founversion=1.0.0'; let x12 = new util.TextEncoder("utf-8"); let y12 = x12.encodeInto(u12); t12.add(y12); let z12 = x12.encodeInto(v12); t12.add(z12); let a13 = x12.encodeInto(w12); t12.add(a13); return t12; } } 